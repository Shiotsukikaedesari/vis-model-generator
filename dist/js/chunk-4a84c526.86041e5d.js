(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a84c526"],{3946:function(o,e,t){"use strict";t.r(e);var a=function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:o.showLoading,expression:"showLoading"}],staticClass:"loadingManager-container"},[t("div",{staticClass:"loadingManage-main"},[o.loaderError?t("div",{staticClass:"loadingManager-close",on:{click:o.close}},[t("vis-icon",{attrs:{code:"#iconguanbi"}})],1):o._e(),t("div",{staticClass:"progress-title"},[t("vis-icon",{attrs:{code:"#iconwenjian"}}),o._v(" 正在加载："+o._s(o.title)+" ")],1),t("div",{staticClass:"overall-progress-box"},[t("div",{staticClass:"overall-progress"},[t("div",{staticClass:"overall-progress-main",style:{width:o.overllProgress+"%",backgroundColor:o.loaderError?"#FF4C4C":null}})]),t("span",{staticClass:"overall-number",domProps:{textContent:o._s(o.loadSuccess+"/"+o.loadTotal)}})]),t("div",{staticClass:"detail-progress-box"},[t("div",{staticClass:"detail-title",on:{click:function(){o.showDetail=!o.showDetail}}},[t("span",[o._v("展示详情")]),t("vis-icon",{style:{transform:o.showDetail?"rotate(0)":"rotate(-90deg)"},attrs:{code:"#iconxiala"}})],1),o.showDetail?t("div",{staticClass:"detail-message"},o._l(o.loadDetailMap,(function(e,a){return t("div",{key:a,staticClass:"detail-item",style:{color:e.error?"#FF4C4C":null}},[t("span",{staticClass:"detail-url",domProps:{textContent:o._s(e.url)}}),e.error?t("span",{domProps:{textContent:o._s(e.message)}}):[t("span",{staticClass:"detail-seat"}),t("span",{staticClass:"detail-number",domProps:{textContent:o._s(100*e.progress+"%")}})]],2)})),0):o._e()])])])},s=[],n=t("35bb"),i=t("5a89"),r={data:function(){return{showLoading:!1,showDetail:!0,title:"",loadTotal:0,loadSuccess:0,loaderError:0,loadDetailMap:{}}},computed:{overllProgress:function(){return 0===this.loadTotal?0:this.loadSuccess/this.loadTotal*100}},methods:{close:function(){this.showLoading=!1}},mounted:function(){var o=this,e=n["a"].loaderManager;e.addEventListener("loading",(function(e){!o.showLoading&&(o.showLoading=!0),o.loadTotal=e.loadTotal,o.loadSuccess=e.loadSuccess,o.loaderError=e.loaderError})),e.addEventListener("loaded",(function(e){o.loadTotal=e.loadTotal,o.loadSuccess=e.loadSuccess,o.loaderError=e.loaderError,setTimeout((function(){o.showLoading=!1}),1e3)})),e.addEventListener("detailLoaded",(function(t){o.title=t.url,o.loadDetailMap=e.getLoadDetailMap()})),n["a"].load({assets:["".concat(window.location,"/resource/skyBox/snowScene/nx.jpg"),"".concat(window.location,"/resource/skyBox/snowScene/ny.jpg"),"".concat(window.location,"/resource/skyBox/snowScene/nz.jpg"),"".concat(window.location,"/resource/skyBox/snowScene/px.jpg"),"".concat(window.location,"/resource/skyBox/snowScene/py.jpg"),"".concat(window.location,"/resource/skyBox/snowScene/pz.jpg")]},(function(o){var e=o.resourceMap,t=new i["k"];t.images=[e.get("".concat(window.location,"/resource/skyBox/snowScene/px.jpg")),e.get("".concat(window.location,"/resource/skyBox/snowScene/nx.jpg")),e.get("".concat(window.location,"/resource/skyBox/snowScene/py.jpg")),e.get("".concat(window.location,"/resource/skyBox/snowScene/ny.jpg")),e.get("".concat(window.location,"/resource/skyBox/snowScene/pz.jpg")),e.get("".concat(window.location,"/resource/skyBox/snowScene/nz.jpg"))],t.needsUpdate=!0,n["a"].scene.background=t,n["a"].scene.environment=t}));var t=this.$store;n["a"].eventManager.addEventListener("pointerup",(function(o){if(0===o.button){if(o.intersections&&o.intersections.length){var e=o.intersections[0].object;if(e.isMesh){var a=n["a"].compilerManager.getObjectVid(e);t.commit("model/setCurrentModel",a)}}t.getters["material/draggedMaterial"]&&(t.commit("model/setMaterial",{vid:t.getters["model/currentModel"].vid,value:t.getters["material/draggedMaterial"]}),t.commit("material/setDraggedMaterial",""))}}))}},c=r,l=(t("f06d"),t("2877")),d=Object(l["a"])(c,a,s,!1,null,"0c124f59",null);e["default"]=d.exports},"68fa":function(o,e,t){},f06d:function(o,e,t){"use strict";t("68fa")}}]);